## 25일차
(09.22)

### 이준희 대리님 교육

> 활용 예시를 NAS에 올려주셨으니 프린팅해서 보자


W:\Index&Query_교육_자료

1. 인덱스 구조
   aliases, mappings, settings로 나눌 수 있다.

aliases: 별칭, 인덱스들을 어떻게 관리할 것인지?추가 제거 가능하게 함. 패턴과 조금 다름


멀티필드: 문자열(텍스트란 검색엔진을 사용할때 이용)
키워드(리턴 필요할때만, 완전 같은거만 보내줌)

드래그드랍은 > 텍스트만 들어간다.
그래서 실제 프로젝트에서 사용 x

쿼리 짜는걸 잘 짜야 한다.

프로젝트에서 컬럼 정의서. (인덱스)

2. 인덱스 관리
   ILM > 수명 주기에 따라 hot ~ frozen
   SLM > 완전 복제

3. Query DSL

설명: 엘라스틱은 쿼리 DSL 을 사용

특징:
1) ""를 가져오면 기능들을 볼 수 있고
2) 자동완성 기능도 가지고 있다.

TERM 쿼리
-형태소 분석 하지 않음 (은,는,이,가 같은 조사 사용x)
-사용 빈도수 적음

*매치 쿼리
형태소 분석 기능 가짐, 대부분 사이트에서 사용

Marhc_phrase:
검색어 구문이 정확하게 일치하는 문서 검색\
성훈: 텀쿼리랑 매치 프레이즈 차이?\
텀쿼린 단어 검색 매치프레이즈는 구문 검색으로 이해하면 된다.

_언더바로 사용하는거는 API들이다.\
.붙은애들은 시스템인덱스(히든인덱스)

범위 검색 (Range)\
날짜형태, 숫자형태 필드

bool쿼리
하나의 조건으로 검색하지 않는다.

must,must_not,should,filter 등..
스코어 계산

## Search API
형태를 쓰면
본문 쿼리를 볼 필요 없고
template에 맞춰서 사용하기만 하면 된다.


샘플을 정리해서 만들어주신다고 하셨음.

Script사용시\
{{#filed}}{{filed}}{{/filed}} 있으면 변수처리, 없으면 받지 않음.
